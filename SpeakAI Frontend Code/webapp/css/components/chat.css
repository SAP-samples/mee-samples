/* Chat bubble styles and variants */
.chatBubble {
  max-width: 92%;
  padding: 0.25rem;
  border-radius: 1.25rem;
  /* background-color: rgb(255, 255, 255); */
  background-color:#e3e3e3; 
  display: inline-flex;
  flex-direction: column;
  gap: 0.2rem;
  /* default: no visible border */
  border: 2px solid transparent;
}

/* When the bubble is focused (e.g., after click), show accent border */
.chatBubble:focus,
.chatBubble:focus-visible {
  outline: none !important;
  border-color: var(--sapAccentColor5);
  /* border: 4px solid !important; */
}

/* .chatBubble[data-role="agent"] {
  box-shadow: 0 2px 4px color-mix(in srgb, var(--sapContent_ShadowColor) 40%, transparent);
} */

.chatBubble[data-role="user"] {
  background-color: var(--brandPrimary);
  color: var(--sapContent_ContrastTextColor);
  margin-left: auto;
  margin-right: 0.75rem; /* space on the right */
}

.chatBubble[data-role="agent"],
.chatBubble[data-role="system"] {
  padding: 0rem !important;
  color: var(--sapTextColor);
  margin-right: auto;
  margin-left: 0.75rem;  /* space on the left */
}

/* Increase font size for agent bubbles only */
.chatBubble[data-role="agent"] {
  font-size: 1rem;
  line-height: 1.25;
}

.chatBubble .sapMText,
.chatBubble .sapMObjStatusText,
.chatBubble .sapMFT {
  color: inherit;
  /* increase size for all content inside bubbles */
  font-size: 1rem;
  line-height: 1.25;
}

/* Ensure inner HTML generated by FormattedText inherits the above */
.chatBubble .sapMFT * {
  font-size: inherit;
  line-height: inherit;
}

/* Agent action row spacing below bubbles */
.agentAction {
  padding: 0.75rem 0 1.25rem;
  gap: 0.5rem;
}

/* Also show the bubble border when the containing ListItem gets focus/active */
.sapMLIB.sapMLIBFocusable:focus .chatBubble,
.sapMLIB.sapMLIBFocusable:focus-within .chatBubble,
.sapMLIB.sapMLIBActive .chatBubble,
.sapMLIB:active .chatBubble {
  border-color: var(--sapAccentColor5);
}

/* Markdown content styling inside chat bubbles */
.chatBubble h1,
.chatBubble h2,
.chatBubble h3,
.chatBubble h4,
.chatBubble h5,
.chatBubble h6 {
  margin: 0.5rem 0 0.25rem;
  line-height: 1.3;
}

.chatBubble p {
  margin: 0.25rem 0;
}

.chatBubble a {
  color: var(--sapLinkColor);
  text-decoration: underline;
}

.chatBubble pre {
  background: var(--sapGroup_ContentBackground);
  border: 1px solid var(--sapGroup_ContentBorderColor);
  border-radius: 0.25rem;
  padding: 0.5rem;
  overflow-x: auto;
  font-family: var(--sapFontMonospaceFamily, monospace);
  font-size: 0.95em;
}

.chatBubble code {
  font-family: var(--sapFontMonospaceFamily, monospace);
  background: var(--sapBaseColor, #f5f5f5);
  padding: 0 0.2rem;
  border-radius: 0.2rem;
}

.chatBubble table {
  width: 100%;
  border-collapse: collapse;
  margin: 0.25rem 0;
}

/* Table theming variables (override per container or theme as needed) */
:root {
  --chat-table-border-color: white;
}


.chatBubble th,
.chatBubble td {
  border: 1px solid var(--chat-table-border-color);
  padding: 0.25rem 0.5rem;
  vertical-align: top;
}

.chatBubble blockquote {
  margin: 0.25rem 0 0.25rem 0.75rem;
  padding-left: 0.5rem;
  border-left: 3px solid var(--sapNeutralBorderColor);
  color: var(--sapContent_LabelColor);
}

.chatBubble ul,
.chatBubble ol {
  margin: 0.25rem 0 0.25rem 1.25rem;
}

/* Minimal composer styling (layout handled in controller) */
.chatComposer { background: var(--sapGroup_ContentBackground); border-top: 1px solid var(--sapList_BorderColor, #d9d9d9); padding: 0.25rem 0.5rem 0.75rem; position: relative; }

/* Make scroll-to-bottom button not affect layout height */
.chatComposer .scrollToBottomBtn {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  /* Place it so it hovers above the input and overlaps den ScrollContainer leicht */
  bottom: calc(100% - 0.5rem); /* extend upwards out of composer */
  z-index: 5;
  background: var(--sapButton_Lite_Background,#fff);
  border: 1px solid var(--sapList_BorderColor,#ccc);
  border-radius: 1.25rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  padding: 0.15rem 0.4rem;
}

.chatComposer .scrollToBottomBtn:hover {
  box-shadow: 0 3px 8px rgba(0,0,0,0.25);
}

/* Enlarge scrollbar only inside chat scroll container */
#chatScroll .sapMScrollCont {
  scrollbar-width: auto; /* Firefox */
}
#chatScroll .sapMScrollCont::-webkit-scrollbar { width: 14px; }
#chatScroll .sapMScrollCont::-webkit-scrollbar-track { background: transparent; }
#chatScroll .sapMScrollCont::-webkit-scrollbar-thumb {
  background: var(--sapScrollBar_FaceColor, #9a9a9a);
  border-radius: 8px;
  border: 3px solid var(--sapGroup_ContentBackground, #fff);
}
#chatScroll .sapMScrollCont::-webkit-scrollbar-thumb:hover { background: var(--sapScrollBar_FaceColor, #7d7d7d); }
