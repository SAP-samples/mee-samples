.chatBubble {
	max-width: 92%;
	padding: 0.25rem;
	border-radius: 1.25rem;
	background-color: #e7e7e7ff;
	display: inline-flex;
	flex-direction: column;
    gap: 0.2rem;
}

/* Show a border around the chat bubble itself on click/focus */
.chatBubble {
	/* default: no visible border */
	border: 2px solid transparent;
}

/* When the bubble is focused (e.g., after click), show accent border */
.chatBubble:focus,
.chatBubble:focus-visible {
	outline: none !important;
	border-color: var(--sapAccentColor5);
}

.chatBubble[data-role="user"] {
	background-color: #5d36ff;
	color: var(--sapContent_ContrastTextColor);
	margin-left: auto;
	margin-right: 0.75rem; /* space on the right */
}

.chatBubble[data-role="agent"],
.chatBubble[data-role="system"] {
    padding: 0rem !important;
	color: var(--sapTextColor);
    /* background-color: var(--sapTile_Background); */
	margin-right: auto;
	margin-left: 0.75rem;  /* space on the left */
}

.chatBubble .sapMText,
.chatBubble .sapMObjStatusText,
.chatBubble .sapMFT {
	color: inherit;
	/* increase size for all content inside bubbles */
	font-size: 1rem;
	line-height: 1.25;
}

/* Ensure inner HTML generated by FormattedText inherits the above */
.chatBubble .sapMFT * {
	font-size: inherit;
	line-height: inherit;
}

.chatContainer {
	/* keep container full width so scrollbar stays at window edge */
	max-width: 100%;
	/* removed: max-width: 60rem; */
	margin: 0 auto;
	/* add bottom padding to separate list and input */
	padding: 0 2rem 4rem;
	box-sizing: border-box;
	width: 100%;
}

/* Centered message lane inside each list item */
.chatRow {
	max-width: 60rem;
	width: 100%;
	margin: 0 auto;
	padding: 0 1rem;
	box-sizing: border-box;
}

.chatComposer {
	padding: 1rem 0 1.5rem;
}

.chatComposer .sapMToolbar {
	padding: 0;
}

.chatInput .sapMInputBaseInner {
    margin: 20rem;
	padding: 1rem 3.25rem 1rem 1.5rem;
	border-radius: 2rem;
	border: 1px solid var(--sapField_BorderColor);
	background-color: var(--sapField_Background);
	box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.08);
}

.chatInput .sapMInputBaseInner:focus {
	box-shadow: 0 0 0 2px var(--sapContent_FocusColor);
}

.chatInput .sapMInputBaseIconContainer {
	right: 0.5rem;
	width: 2.5rem;
	height: 2.5rem;
	border-radius: 50%;
	background: var(--sapButton_Emphasized_Background);
	color: var(--sapButton_Emphasized_TextColor);
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.16);
	cursor: pointer;
}

.chatInput.sapMInputDisabled .sapMInputBaseIconContainer {
	background: var(--sapButton_Lite_Background);
	color: var(--sapContent_DisabledTextColor);
	box-shadow: none;
	cursor: not-allowed;
}

.chatInput.sapMInputDisabled .sapMInputBaseInner {
	background: var(--sapField_ReadOnlyBackground);
	box-shadow: none;
}

.agentAction {
	padding: 0.75rem 0 1.25rem;
	gap: 0.5rem;
}

/* Bold only the ObjectStatus text when we add the class on the control */
.busyStatusText .sapMObjStatusText {
	font-weight: 800;
    font-size: 1rem;
    color: #0064d9;
}

.chatComposer .chatInputNoOutline .sapMInputBaseContentWrapper {
	overflow: visible;
}

.chatComposer .chatInputNoOutline.sapMInputBase {
	max-width: 100%;
}

.chatComposer .chatInputNoOutline.sapMInputBase .sapMInputBaseInner:focus,
.chatComposer .chatInputNoOutline.sapMInputFocused .sapMInputBaseInner {
	box-shadow: none !important;
	outline: none !important;
}

.chatComposer.sapMTB {
	height: auto !important; /* ensure toolbar grows */
	overflow: visible !important;
	padding-top: 0.5rem;
	padding-bottom: 0.5rem;
}

/* Ensure the page footer can grow with stacked content */
[id$="--mainPage"] .sapMPageFooter {
	height: auto !important;
	min-height: 3rem;
	overflow: visible !important;
}
[id$="--mainPage"] .sapMPageFooter .sapMTB {
	height: auto !important;
	min-height: 3rem;
	overflow: visible !important;
}

/* Add spacing below the input so the disclaimer never overlaps */
.chatComposer .sapMInputBase {
	display: block;
	width: 100%;
	margin-bottom: 0.5rem;
}

/* Keep input taller and avoid clipping */
.chatComposer .sapMInputBaseContentWrapper {
	min-height: 2.75rem; 
	border-radius: 2rem; 
	overflow: hidden; 
}
.chatComposer .sapMInputBase .sapMInputBaseInner {
	height: 100%;
	line-height: 1.4; 
	padding: 0.5rem 3rem 0.5rem 1rem;
	font-size: 0.875rem;
	border-radius: inherit;
	box-sizing: border-box;
}

/* Vertically center the send icon */
.chatComposer .sapMInputBase .sapMInputBaseIconContainer {
	right: 1rem;
	top: 0rem;
	bottom: 0;
	margin: auto 0.4rem;
	width: 2rem;   /* was 2.5rem */
	height: 2rem;  /* was 2.5rem */
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
    outline: none;
}

/* Send icon: white on round purple background */
.chatInput .sapMInputBaseIconContainer,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer {
	background-color: #5d36ff;
	color: #fff;
	border-radius: 50%;
}

/* Remove all borders/overlays on the send icon across states */
.chatInput .sapMInputBaseIconContainer,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer {
  border: 0 !important;
}

.chatInput .sapMInputBaseIconContainer:hover,
.chatInput .sapMInputBaseIconContainer:active,
.chatInput .sapMInputBaseIconContainer:focus,
.chatInput .sapMInputBaseIconContainer:focus-visible,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer:hover,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer:active,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer:focus,
chatComposer .sapMInputBase .sapMInputBaseIconContainer:focus-visible {
  border: 0 !important;
  outline: none !important;
  background-image: none !important;  
  box-shadow: none !important;       
  background-color: #5d36ff !important;
}

/* Remove any theme pseudo-element borders/overlays */
.chatInput .sapMInputBaseIconContainer::before,
.chatInput .sapMInputBaseIconContainer::after,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer::before,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer::after {
  content: none !important;
  border: 0 !important;
  box-shadow: none !important;
  background: none !important;
}

/* Prevent white square on the icon glyph when pressed */
.chatInput .sapMInputBaseIconContainer .sapUiIcon,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer .sapUiIcon {
  color: #fff !important;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  border-radius: 50% !important; /* ensures no square corners show */
}

/* Disclaimer styling and wrapping */
.chatComposer .aiDisclaimer.sapMLabel {
	color: var(--sapContent_LabelColor) !important;
	font-style: italic;
	font-weight: normal !important;
	font-size: 0.75rem;
	line-height: 1.3;
	display: block;
	width: 100%;
	text-align: center !important;
	white-space: normal !important;
	word-break: break-word;
    padding: 1rem;
}

/* Dark purple top toolbar and white title */
.appTopBar.sapMTB {
	background-color: #5d36ff;
	color: #fff;
	box-shadow: none;           /* remove divider/shadow */
	border: 0;
}
.appTopBar .sapMTitle {
	color: #fff;
	/* flex: 1 1 auto;
	text-align: center; */
}

/* Topbar sidebar ToggleButton - force white icon and remove default overlays */
.appTopBar [id$="--sidebarToggleBtn"].sapMBtn .sapMBtnInner,
.appTopBar [id$="--sidebarToggleBtn"].sapMBtn:hover .sapMBtnInner,
.appTopBar [id$="--sidebarToggleBtn"].sapMBtn:focus .sapMBtnInner,
.appTopBar [id$="--sidebarToggleBtn"].sapMBtn:active .sapMBtnInner,
.appTopBar [id$="--sidebarToggleBtn"].sapMBtn.sapMToggleBtnPressed .sapMBtnInner {
  background: transparent !important;
  background-image: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  outline: none !important;
}

.appTopBar [id$="--sidebarToggleBtn"] .sapUiIcon {
  color: #fff !important;
  background: transparent !important;
}

/* Subheader: remove dividers and add space above content */
.subHeaderBar.sapMTB {
	box-shadow: none;           
	border: 0;
	padding-top: 0.5rem;      
}

/* Remove lines between header, subheader, and content for this page */
[id$="--mainPage"] .sapMPageHeader,
[id$="--mainPage"] .sapMPageSubHeader {
	box-shadow: none !important;
	border: 0 !important;
}

/* Small, centered subheader date/time */
.subHeaderText {
  font-size: 0.75rem;
  text-align: center;
}

/* Make the date bold and add spacing before time */
.subHeaderDate {
  font-weight: 700;
}
.subHeaderTime {
  font-weight: 400;
  margin-left: 0.25rem; /* ensures a space between date and time */
}

/* In chat area: hide focus ring on mouse focus, keep it for keyboard */
.chatContainer .sapMFocusable:focus:not(:focus-visible),
.chatContainer .sapMLIBFocusable:focus:not(:focus-visible),
.chatContainer .sapMScrollCont:focus:not(:focus-visible),
.chatContainer .sapMFlexBox:focus:not(:focus-visible),
.chatContainer .sapMTB:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
}

.chatComposer .sapMInputBase,
.chatComposer .sapMInputBase:focus,
.chatComposer .sapMInputBaseContentWrapper:focus,
.chatComposer .sapMInputBaseContentWrapper:focus-visible,
.chatComposer .sapMInputBaseInner:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* Single focus ring on the wrapper; hide any blue borders */
.chatComposer .sapMInputBaseContentWrapper:focus-within {
    box-shadow: 0 0 0 2px var(--sapAccentColor5);
    border-radius: 1.25rem;
    border-color: transparent !important; /* prevent wrapper border turning blue */
}


.chatComposer .sapMInputBaseContentWrapper,
.chatComposer .sapMInputBaseContentWrapper:hover,
.chatComposer .sapMInputBaseContentWrapper:active {
  border: 0 !important;
  border-bottom: 0 !important;
  
  background-image: none !important;
}

.chatComposer .sapMInputBaseContentWrapper::before,
.chatComposer .sapMInputBaseContentWrapper::after,
.chatComposer .sapMInputBase::before,
.chatComposer .sapMInputBase::after {
  content: none !important;
  border: 0 !important;
  box-shadow: none !important;
  background: none !important;
}

/* Remove hover border for send icon container (keep focus-visible rings) */
.chatInput .sapMInputBaseIconContainer:hover,
.chatComposer .sapMInputBase .sapMInputBaseIconContainer:hover {
  border: 0 !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Also show the bubble border when the containing ListItem gets focus/active */
.sapMLIB.sapMLIBFocusable:focus .chatBubble,
.sapMLIB.sapMLIBFocusable:focus-within .chatBubble,
.sapMLIB.sapMLIBActive .chatBubble,
.sapMLIB:active .chatBubble {
	border-color: var(--sapAccentColor5);
}

/* Remove list item border/outline on click/focus inside the chat area */
.chatContainer .sapMLIB,
.chatContainer .sapMLIB:focus,
.chatContainer .sapMLIB:active,
.chatContainer .sapMLIB.sapMLIBActive,
.chatContainer .sapMLIB.sapMLIBFocusable:focus,
.chatContainer .sapMLIB.sapMLIBFocusable:focus-visible {
	outline: none !important;
	box-shadow: none !important;
	border-color: transparent !important;
}

/* Kill theme-injected focus/active borders drawn via pseudo-elements */
.chatContainer .sapMLIB::before,
.chatContainer .sapMLIB::after,
.chatContainer .sapMLIB.sapMLIBActive::before,
.chatContainer .sapMLIB.sapMLIBActive::after,
.chatContainer .sapMLIB.sapMLIBFocusable:focus::before,
.chatContainer .sapMLIB.sapMLIBFocusable:focus::after {
	content: none !important;
	border: 0 !important;
	box-shadow: none !important;
}

/* Minimum window size constraints (adjust values as needed) */
html,
body {
  min-width: 360px;
  min-height: 600px;
}

/* Also constrain the main page container; allow scroll if window smaller */
[id$="--mainPage"] {
  min-width: 360px;
  min-height: 600px;
  overflow: auto;
}

/* Narrow the message input compared to the scroll container (no height changes) */
[id$="--messageInput"].sapMInputBase {
  width: 100% !important; /* full width inside right chat area */
  display: block;
  margin: 0 0 0.5rem 0;   /* no centering */
}

/* On small screens, keep it full width for usability */
@media (max-width: 768px) {
  .chatContainer {
    max-width: 100%;
    padding: 0 0.5rem;
  }

  .chatRow {
    max-width: 100%;
    padding: 0 0.5rem;
  }

  /* Keep small gutters on phones */
  .chatBubble[data-role="user"] {
    margin-right: 0.5rem;
  }
  .chatBubble[data-role="agent"],
  .chatBubble[data-role="system"] {
    margin-left: 0.5rem;
  }

  [id$="--messageInput"].sapMInputBase {
    width: 100% !important;
    margin: 0 0 0.5rem;
  }
}

/* Style the button to appear compact and floating-looking above the input */
.scrollToBottomBtn.sapMBtn {
  display: block;               /* allow auto margins to center */
  margin: 0 auto 0.5rem;        /* center horizontally */
  /* align-self can stay or be removed; margin auto takes precedence */
  width: 2.5rem;
  height: 2.5rem;
  padding: 0;                    /* make it round */
  border-radius: 999px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  background-color: #5d36ff !important;   /* strong brand color */
  color: #fff !important;                  /* ensure text/icon inherits white */
  border: 2px solid rgba(255,255,255,0.9); /* contrast ring for any background */
  box-shadow: 0 6px 16px rgba(0,0,0,0.2);  /* slightly stronger shadow */
}
.scrollToBottomBtn .sapUiIcon {
  line-height: 2.5rem;
  color: #fff !important;                  /* white icon for contrast */
  font-size: 1.125rem;
}
/* Hover/active states */
.scrollToBottomBtn.sapMBtn:hover,
.scrollToBottomBtn.sapMBtn:focus {
  background-color: #6f4cff !important;    /* lighter on hover/focus */
  box-shadow: 0 8px 20px rgba(0,0,0,0.24);
}
.scrollToBottomBtn.sapMBtn:active {
  background-color: #4a2bd9 !important;    /* darker on press */
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

/* Kill UI5 inner overlays/background that show a white rectangle on hover */
.scrollToBottomBtn.sapMBtn .sapMBtnInner,
.scrollToBottomBtn.sapMBtn:hover .sapMBtnInner,
.scrollToBottomBtn.sapMBtn:focus .sapMBtnInner,
.scrollToBottomBtn.sapMBtn:active .sapMBtnInner {
  background: transparent !important;
  background-image: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  border-radius: 999px !important; /* ensure round inner */
  padding: 0 !important;           /* no inner padding */
}

/* Remove pseudo-element overlays */
.scrollToBottomBtn.sapMBtn .sapMBtnInner::before,
.scrollToBottomBtn.sapMBtn .sapMBtnInner::after {
  content: none !important;
  display: none !important;
}

/* Overlay the DynamicSideContent sidebar so it doesn't push main content */
.sidebarOverlay.sapUiDSC {
  position: relative;
}
.sidebarOverlay .sapUiDSCMain {
  flex: 1 1 auto !important;
  width: 100% !important;
}
.sidebarOverlay .sapUiDSCSide {
  position: absolute !important;
  top: 0;
  bottom: 0;
  left: 0;
  width: 16rem;              /* match the VBox width */
  max-width: 80vw;
  z-index: 10;
  background: var(--sapPage_Background, #fff);
  box-shadow: 2px 0 12px rgba(0,0,0,0.18);
}
/* Keep main content beneath the overlayed sidebar */
.sidebarOverlay .sapUiDSCMainContent {
  position: relative;
  z-index: 0;
}

/* New: generic overlay sidebar that doesn't affect layout flow */
[id$="--mainPage"] .sapMPageCont {
  position: relative; /* anchor for absolutely positioned overlay inside Page content */
}
.overlaySidebar {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  width: 16rem;              /* must match the width set in XML */
  max-width: 80vw;
  z-index: 20;
  background: var(--sapPage_Background, #fff);
  box-shadow: 2px 0 12px rgba(0,0,0,0.18);
  /* Optional padding for sidebar content */
  padding: 0.75rem;
}
/* Ensure the chat scroll area remains full-width and not shifted */
[id$="--chatScroll"] {
  width: 100% !important;
}
